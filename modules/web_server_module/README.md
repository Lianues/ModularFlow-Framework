# WebæœåŠ¡å™¨æ¨¡å—

WebæœåŠ¡å™¨æ¨¡å—æä¾›è½»é‡çº§çš„WebæœåŠ¡å™¨åŠŸèƒ½ï¼Œä¸“é—¨ç”¨äºå‰ç«¯é¡¹ç›®çš„å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒã€‚æ”¯æŒå¤šç§å‰ç«¯æŠ€æœ¯æ ˆçš„å¼€å‘æœåŠ¡å™¨ç®¡ç†ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **å¤šé¡¹ç›®æ”¯æŒ**: åŒæ—¶ç®¡ç†å¤šä¸ªå‰ç«¯é¡¹ç›®çš„å¼€å‘æœåŠ¡å™¨
- ğŸ“ **é™æ€æ–‡ä»¶æœåŠ¡**: ä¸ºHTML/CSS/JSé¡¹ç›®æä¾›é™æ€æ–‡ä»¶æœåŠ¡å™¨
- ğŸ”§ **å¼€å‘æœåŠ¡å™¨**: æ”¯æŒReactã€Vueã€Angularç­‰ç°ä»£å‰ç«¯æ¡†æ¶
- ğŸŒ **è‡ªåŠ¨æµè§ˆå™¨**: å¯åŠ¨é¡¹ç›®æ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
- ğŸ“Š **çŠ¶æ€ç›‘æ§**: å®æ—¶ç›‘æ§æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€å’Œç«¯å£ä½¿ç”¨
- ğŸ”„ **è¿›ç¨‹ç®¡ç†**: å®Œæ•´çš„æœåŠ¡å™¨è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†
- âš™ï¸ **é…ç½®é©±åŠ¨**: é€šè¿‡JSONé…ç½®æ–‡ä»¶ç®¡ç†æ‰€æœ‰é¡¹ç›®è®¾ç½®

## æ¶æ„ç»„ä»¶

### 1. WebServer ä¸»ç±»
- **èŒè´£**: å‰ç«¯é¡¹ç›®å’ŒæœåŠ¡å™¨ç®¡ç†çš„æ ¸å¿ƒæ§åˆ¶å™¨
- **ç‰¹æ€§**: é¡¹ç›®é…ç½®åŠ è½½ã€æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æµè§ˆå™¨é›†æˆ

### 2. DevServer å¼€å‘æœåŠ¡å™¨ç®¡ç†å™¨
- **èŒè´£**: ç®¡ç†å„ç§ç±»å‹çš„å¼€å‘æœåŠ¡å™¨è¿›ç¨‹
- **ç‰¹æ€§**: è¿›ç¨‹ç›‘æ§ã€çŠ¶æ€è·Ÿè¸ªã€è‡ªåŠ¨é‡å¯ã€ç«¯å£ç®¡ç†

### 3. StaticFileServer é™æ€æ–‡ä»¶æœåŠ¡å™¨
- **èŒè´£**: ä¸ºé™æ€é¡¹ç›®æä¾›HTTPæ–‡ä»¶æœåŠ¡
- **ç‰¹æ€§**: è‡ªå®šä¹‰ç›®å½•ã€å¤šçº¿ç¨‹å¤„ç†ã€HTTPæ ‡å‡†å…¼å®¹

## æ”¯æŒçš„é¡¹ç›®ç±»å‹

### é™æ€é¡¹ç›® (html/static)
- **æè¿°**: çº¯HTMLã€CSSã€JavaScripté¡¹ç›®
- **æœåŠ¡å™¨**: å†…ç½®Python HTTPæœåŠ¡å™¨
- **ç‰¹æ€§**: é›¶é…ç½®å¯åŠ¨ï¼Œå¼€å‘å‹å¥½

### Reacté¡¹ç›® (react)
- **æè¿°**: Create React Appæˆ–è‡ªå®šä¹‰Reacté¡¹ç›®
- **æœåŠ¡å™¨**: npm start / yarn start
- **ç«¯å£**: é»˜è®¤3000

### Vueé¡¹ç›® (vue)
- **æè¿°**: Vue CLIæˆ–Viteé©±åŠ¨çš„Vueé¡¹ç›®
- **æœåŠ¡å™¨**: npm run dev / yarn dev
- **ç«¯å£**: é»˜è®¤3001

### Angularé¡¹ç›® (angular)
- **æè¿°**: Angular CLIé¡¹ç›®
- **æœåŠ¡å™¨**: ng serve
- **ç«¯å£**: é»˜è®¤4200

### Pythoné¡¹ç›® (python)
- **æè¿°**: Flaskã€Djangoæˆ–å…¶ä»–Python Webæ¡†æ¶
- **æœåŠ¡å™¨**: è‡ªå®šä¹‰æˆ–é»˜è®¤Python HTTPæœåŠ¡å™¨

## é…ç½®æ–‡ä»¶

WebæœåŠ¡å™¨æ¨¡å—ä½¿ç”¨ `frontend_projects/frontend-projects.json` è¿›è¡Œé¡¹ç›®é…ç½®ï¼š

```json
{
  "projects": [
    {
      "name": "web_admin",
      "display_name": "ç®¡ç†åå°",
      "type": "react",
      "path": "frontend_projects/web_admin",
      "port": 3000,
      "api_endpoint": "http://localhost:8050/api/v1",
      "build_command": "npm run build",
      "dev_command": "npm start",
      "description": "åŸºäºReactçš„ç®¡ç†åå°ç•Œé¢",
      "dependencies": {
        "react": "^18.0.0",
        "axios": "^1.0.0"
      },
      "enabled": true
    }
  ]
}
```

## ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨WebæœåŠ¡å™¨ç®¡ç†

```python
from modules.web_server_module import get_web_server

# è·å–WebæœåŠ¡å™¨å®ä¾‹
server = get_web_server()

# åˆ—å‡ºæ‰€æœ‰é¡¹ç›®
projects = server.list_projects()
for project in projects:
    print(f"é¡¹ç›®: {project['display_name']} - çŠ¶æ€: {project['server_status']['status']}")
```

### 2. é€šè¿‡å‡½æ•°æ³¨å†Œç³»ç»Ÿä½¿ç”¨

```python
from core.function_registry import get_registered_function

# å¯åŠ¨æŒ‡å®šé¡¹ç›®
start_project = get_registered_function("web_server.start_project")
result = start_project("SmartTavern", open_browser=True)

# æŸ¥çœ‹è¿è¡Œä¸­çš„æœåŠ¡å™¨
get_servers = get_registered_function("web_server.running_servers")
servers = get_servers()
```

### 3. é¡¹ç›®ç®¡ç†æ“ä½œ

```python
server = get_web_server()

# å¯åŠ¨é¡¹ç›®
server.start_project("web_admin", open_browser=True)

# åœæ­¢é¡¹ç›®
server.stop_project("web_admin")

# é‡å¯é¡¹ç›®
server.restart_project("web_admin")

# è·å–é¡¹ç›®è¯¦ç»†ä¿¡æ¯
info = server.get_project_info("web_admin")
```

### 4. æ‰¹é‡æ“ä½œ

```python
# å¯åŠ¨æ‰€æœ‰å¯ç”¨çš„é¡¹ç›®
results = server.start_all_enabled_projects()

# åœæ­¢æ‰€æœ‰é¡¹ç›®
results = server.stop_all_projects()
```

## é¡¹ç›®ç»“æ„åˆ›å»º

WebæœåŠ¡å™¨æ¨¡å—å¯ä»¥è‡ªåŠ¨åˆ›å»ºé¡¹ç›®çš„åŸºç¡€ç»“æ„ï¼š

### HTMLé¡¹ç›®ç»“æ„
```
project_name/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ css/               # æ ·å¼æ–‡ä»¶ç›®å½•
â”œâ”€â”€ js/                # JavaScriptæ–‡ä»¶ç›®å½•
â””â”€â”€ assets/            # é™æ€èµ„æºç›®å½•
```

### Reacté¡¹ç›®ç»“æ„
```
project_name/
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ public/            # å…¬å…±èµ„æº
â”œâ”€â”€ src/               # æºä»£ç 
â”œâ”€â”€ README.md          # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ .gitignore         # Gitå¿½ç•¥æ–‡ä»¶
```

## æ³¨å†Œçš„å‡½æ•°

ä»¥ä¸‹å‡½æ•°å·²æ³¨å†Œåˆ°ModularFlow Frameworkï¼š

### é¡¹ç›®ç®¡ç†
- `web_server.list_projects` - åˆ—å‡ºæ‰€æœ‰å‰ç«¯é¡¹ç›®
- `web_server.start_project` - å¯åŠ¨æŒ‡å®šå‰ç«¯é¡¹ç›®
- `web_server.stop_project` - åœæ­¢æŒ‡å®šå‰ç«¯é¡¹ç›®
- `web_server.restart_project` - é‡å¯æŒ‡å®šå‰ç«¯é¡¹ç›®

### æ‰¹é‡æ“ä½œ
- `web_server.start_all` - å¯åŠ¨æ‰€æœ‰å¯ç”¨çš„é¡¹ç›®
- `web_server.stop_all` - åœæ­¢æ‰€æœ‰é¡¹ç›®

### ä¿¡æ¯æŸ¥è¯¢
- `web_server.project_info` - è·å–é¡¹ç›®è¯¦ç»†ä¿¡æ¯
- `web_server.running_servers` - è·å–æ‰€æœ‰è¿è¡Œä¸­çš„æœåŠ¡å™¨

### é¡¹ç›®ç»“æ„
- `web_server.create_structure` - åˆ›å»ºé¡¹ç›®åŸºç¡€ç»“æ„

## æœåŠ¡å™¨çŠ¶æ€

æ¯ä¸ªé¡¹ç›®æœåŠ¡å™¨å…·æœ‰ä»¥ä¸‹çŠ¶æ€ï¼š

- `stopped` - æœåŠ¡å™¨å·²åœæ­¢
- `starting` - æœåŠ¡å™¨æ­£åœ¨å¯åŠ¨
- `running` - æœåŠ¡å™¨è¿è¡Œä¸­
- `error` - æœåŠ¡å™¨å‡ºç°é”™è¯¯

## ç«¯å£ç®¡ç†

- æ¯ä¸ªé¡¹ç›®éƒ½æœ‰ç‹¬ç«‹çš„ç«¯å£é…ç½®
- é¿å…ç«¯å£å†²çªçš„è‡ªåŠ¨æ£€æµ‹
- æ”¯æŒåŠ¨æ€ç«¯å£åˆ†é…ï¼ˆå¦‚æœé»˜è®¤ç«¯å£è¢«å ç”¨ï¼‰

## è¿›ç¨‹ç®¡ç†

### è¿›ç¨‹ç›‘æ§
- å®æ—¶è·Ÿè¸ªæœåŠ¡å™¨è¿›ç¨‹çŠ¶æ€
- PIDç®¡ç†å’Œè¿›ç¨‹ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
- å¼‚å¸¸é€€å‡ºæ£€æµ‹å’Œæ—¥å¿—è®°å½•

### è‡ªåŠ¨æ¸…ç†
- åœæ­¢é¡¹ç›®æ—¶è‡ªåŠ¨ç»ˆæ­¢ç›¸å…³è¿›ç¨‹
- èµ„æºæ³„æ¼é˜²æŠ¤
- ä¼˜é›…å…³é—­å¤„ç†

## å¼€å‘å·¥ä½œæµ

### å…¸å‹å¼€å‘æµç¨‹

1. **é¡¹ç›®é…ç½®**: åœ¨ `frontend_projects/frontend-projects.json` ä¸­æ·»åŠ é¡¹ç›®é…ç½®
2. **ç»“æ„åˆ›å»º**: ä½¿ç”¨ `create_structure` åˆ›å»ºé¡¹ç›®åŸºç¡€æ–‡ä»¶
3. **å¼€å‘æœåŠ¡å™¨**: ä½¿ç”¨ `start_project` å¯åŠ¨å¼€å‘ç¯å¢ƒ
4. **å®æ—¶å¼€å‘**: è‡ªåŠ¨é‡è½½å’Œçƒ­æ›´æ–°ï¼ˆå–å†³äºé¡¹ç›®ç±»å‹ï¼‰
5. **æµ‹è¯•éƒ¨ç½²**: ä½¿ç”¨ `build_command` æ„å»ºç”Ÿäº§ç‰ˆæœ¬

### å¤šé¡¹ç›®å¼€å‘

```python
# åŒæ—¶å¯åŠ¨å¤šä¸ªé¡¹ç›®è¿›è¡Œå¼€å‘
server = get_web_server()

# å¯åŠ¨Reactç®¡ç†åå°
server.start_project("web_admin")  # http://localhost:3000

# å¯åŠ¨Vueä»ªè¡¨æ¿
server.start_project("vue_dashboard")  # http://localhost:3001

# å¯åŠ¨SmartTavern
server.start_project("SmartTavern")  # http://localhost:6601
```

## ä¸APIç½‘å…³é›†æˆ

WebæœåŠ¡å™¨æ¨¡å—ä¸APIç½‘å…³æ¨¡å—æ— ç¼é›†æˆï¼š

- å‰ç«¯é¡¹ç›®é€šè¿‡é…ç½®çš„ `api_endpoint` è¿æ¥åç«¯API
- æ”¯æŒå¼€å‘ç¯å¢ƒçš„ä»£ç†è®¾ç½®
- è‡ªåŠ¨CORSé…ç½®å¤„ç†

## é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

1. **ç«¯å£è¢«å ç”¨**
   - è‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºç«¯å£å†²çª
   - å»ºè®®å¤‡ç”¨ç«¯å£æˆ–æ‰‹åŠ¨ä¿®æ”¹é…ç½®

2. **é¡¹ç›®è·¯å¾„ä¸å­˜åœ¨**
   - è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ç›®å½•
   - æä¾›åŸºç¡€æ–‡ä»¶ç»“æ„æ¨¡æ¿

3. **ä¾èµ–ç¼ºå¤±**
   - æ£€æµ‹ `package.json` å’Œä¾èµ–å®‰è£…çŠ¶æ€
   - æä¾›å®‰è£…å»ºè®®å’Œå‘½ä»¤

## æ€§èƒ½ä¼˜åŒ–

- **å¹¶å‘å¤„ç†**: æ”¯æŒå¤šä¸ªæœåŠ¡å™¨åŒæ—¶è¿è¡Œ
- **èµ„æºç›‘æ§**: å†…å­˜å’ŒCPUä½¿ç”¨ç›‘æ§
- **ç¼“å­˜ä¼˜åŒ–**: é™æ€æ–‡ä»¶ç¼“å­˜æ§åˆ¶
- **çƒ­é‡è½½**: å¼€å‘æ—¶çš„å¿«é€Ÿé‡è½½æœºåˆ¶

## æ‰©å±•æ”¯æŒ

### è‡ªå®šä¹‰é¡¹ç›®ç±»å‹

å¯ä»¥é€šè¿‡æ‰©å±•é…ç½®æ”¯æŒæ–°çš„é¡¹ç›®ç±»å‹ï¼š

```python
# æ·»åŠ æ–°çš„é¡¹ç›®ç±»å‹æ”¯æŒ
custom_project = {
    "name": "custom_app",
    "type": "custom",
    "dev_command": "custom-dev-server --port 5000",
    "port": 5000
}
```

### ä¸­é—´ä»¶æ”¯æŒ

æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒå¼€å‘æœåŠ¡å™¨ä¸­é—´ä»¶ï¼š
- ä»£ç†ä¸­é—´ä»¶
- è®¤è¯ä¸­é—´ä»¶  
- æ—¥å¿—ä¸­é—´ä»¶
- è‡ªå®šä¹‰å¤„ç†å™¨

## å…¼å®¹æ€§

- **æ“ä½œç³»ç»Ÿ**: Windows, macOS, Linux
- **Python**: 3.8+
- **Node.js**: 14+ (ç”¨äºå‰ç«¯é¡¹ç›®)
- **æµè§ˆå™¨**: Chrome, Firefox, Safari, Edge

## æ•…éšœæ’é™¤

### è¯Šæ–­å·¥å…·

```python
# è·å–è¯¦ç»†çš„é¡¹ç›®ä¿¡æ¯ç”¨äºè¯Šæ–­
info = server.get_project_info("project_name")
print(f"è·¯å¾„å­˜åœ¨: {info['path_exists']}")
print(f"æ–‡ä»¶æ•°é‡: {info['files_count']}")
print(f"æœåŠ¡å™¨çŠ¶æ€: {info['server_status']}")
```

### æ—¥å¿—æŸ¥çœ‹

WebæœåŠ¡å™¨æ¨¡å—ä½¿ç”¨æ ‡å‡†Pythonæ—¥å¿—ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡é…ç½®æ—¥å¿—çº§åˆ«æ¥è·å–è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ã€‚